(function(t){function e(e){for(var a,i,o=e[0],l=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("header",{staticClass:"row"},[n("div",{staticClass:"w-100"},[n("nav",{staticClass:"navbar navbar-inverse navbar-light container-fluid"},[n("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("Link"),n("strong",[t._v("FU")])]),n("div",{staticClass:"challenge justify-content-end nav navbar-nav navbar-right"},[n("span",[t._v("\n            Link\n            "),n("strong",[t._v("VOTE")]),t._v(" Challenge\n          ")])])])])]),n("hr")])}],l={},u=l,c=n("2877"),d=Object(c["a"])(u,i,o,!1,null,null,null),f=d.exports,m={name:"app",components:{Header:f}},v=m,p=(n("034f"),Object(c["a"])(v,r,s,!1,null,null,null)),h=p.exports,g=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"vote-wrapper mx-auto"},[n("div",{staticClass:"col-md-12 submit-link-wrapper"},[n("router-link",{staticClass:"btn btn-outline-danger btn-lg btn-block btn-submit",attrs:{to:"/add",tag:"a"}},[n("i",{staticClass:"fa fa-plus fa-1x"}),t._v("SUBMIT A LINK\n        ")])],1),n("div",{staticClass:"text-center"},[n("small",[t._v("\n            Saved "),n("strong",[t._v(t._s(t.links.length))]),t._v(" links!\n        ")])]),n("hr"),n("div",{staticClass:"col-md-12 link-list w-100"},[n("div",{staticClass:"form-group w-50 mx-auto"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.listOrder,expression:"listOrder"}],staticClass:"form-control",attrs:{disabled:t.links.length<2},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.listOrder=e.target.multiple?n:n[0]},function(e){return t.changeOrder()}]}},[n("option",{attrs:{value:""}},[t._v("Order by (creation date)")]),n("option",{attrs:{value:"desc"}},[t._v("most voted z > a")]),n("option",{attrs:{value:"asc"}},[t._v("less voted a > z")])])]),t.links.length<=0?n("div",{staticClass:"text-center"},[t._v("There are no link records please submit an URL")]):n("ul",{staticClass:"list-group"},t._l(t.paginate,(function(e,a){return n("li",{key:a,staticClass:"list-group-item list-group-item-action link-item"},[n("div",{staticClass:"btn btn-outline-points vote-point-wrapper"},[n("span",{staticClass:"text-center number-points"},[n("strong",[t._v(t._s(e.votes_count))])]),n("span",{staticClass:"text-center points-text inner"},[t._v("POINTS")])]),n("div",{staticClass:"link-group ml-2"},[n("p",{staticClass:"link-title"},[t._v(t._s(e.name))]),n("p",{staticClass:"link-title"},[n("small",[n("i",[t._v("("+t._s(e.web_url)+")")])])]),n("div",{staticClass:"link-remove"},[n("button",{staticClass:"btn",attrs:{type:"button",disabled:t.disableRemove,title:"Remove item"},on:{click:function(n){return t.removeStart(e,a)}}},[n("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])]),n("div",{staticClass:"vote-btn-group"},[e.current_user_voted?t._e():n("a",{attrs:{href:"#"},on:{click:function(n){return t.upVote(e,a)}}},[t._m(0,!0)]),e.current_user_voted?n("a",{attrs:{href:"#"},on:{click:function(n){return t.downVote(e,a)}}},[t._m(1,!0)]):t._e()])])])})),0)]),n("hr"),t.links.length>0?n("div",{staticClass:"justify-content-center mt-3"},[n("ul",{staticClass:"pagination justify-content-center"},[n("li",{staticClass:"page-item"}),t._l(t.totalPages,(function(e,a){return Math.abs(e-t.currentPage)<3||e==t.totalPages||1==e?n("li",{key:a,staticClass:"page-item"},[n("a",{key:e,staticClass:"page-link",class:{active:t.currentPage===e,first:1==e&&Math.abs(e-t.currentPage)>3},attrs:{href:"#"},on:{click:function(n){return t.setPage(e)}}},[t._v(t._s(e))])]):t._e()}))],2)]):t._e()])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"color-success"},[n("i",{staticClass:"fa fa-arrow-up"}),t._v(" Up Vote\n            ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"color-danger"},[n("i",{staticClass:"fa fa-arrow-down"}),t._v(" Down Vote\n            ")])}],k=(n("7f7f"),n("75fc")),C=(n("55dd"),n("ba5f")),w={name:"home",components:{},data:function(){return{links:null,linksPaged:null,listOrder:"",disableRemove:!1,currentPage:1,itemsPerPage:5,resultCount:0,numPagesCalculated:1}},methods:{sortByDate:function(t,e){return e=e?-1:1,t.sort((function(t,n){return e*(new Date(n.created_at)-new Date(t.created_at))}))},sortByVote:function(t,e){return e=e?-1:1,t.sort((function(t,n){return e*(n.votes_count-t.votes_count)||e*(new Date(n.last_voted_at)-new Date(t.last_voted_at))}))},upVote:function(t,e){var n=e+(this.currentPage-1)*this.itemsPerPage,a=C["f"](t);if(this.links[n]=a,""!==this.listOrder){var r="asc"===this.listOrder;this.links=this.sortByVote(this.links,r)}this.links=Object(k["a"])(this.links)},downVote:function(t,e){var n=e+(this.currentPage-1)*this.itemsPerPage,a=C["b"](t);if(this.links[n]=a,""!==this.listOrder){var r="asc"===this.listOrder;this.links=this.sortByVote(this.links,r)}this.links=Object(k["a"])(this.links)},getAppData:function(){return C["c"]()},removeStart:function(t,e){var n=e+(this.currentPage-1)*this.itemsPerPage;this.removeLink(t,n)},removeLink:function(t,e){var n=this;this.$swal.fire({title:"Are you sure?",text:"Do you want to remove "+t.name,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){if(a.value){n.$swal.fire({toast:!0,position:"top",title:"Link Removed",showConfirmButton:!1,timer:2e3,type:"success"});var r=C["e"](t);n.disableRemove=!0,setTimeout((function(){n.disableRemove=!1,r&&n.links.splice(e,1)}),1e3)}}))},changeOrder:function(){""===this.listOrder?this.sortByDate(this.links,!1):"desc"===this.listOrder?this.sortByVote(this.links,!1):"asc"===this.listOrder&&this.sortByVote(this.links,!0)},setPage:function(t){this.currentPage=t}},computed:{totalPages:function(){return Math.ceil(this.resultCount/this.itemsPerPage)},paginate:function(){if(this.links&&this.links.length==this.links.length){this.resultCount=this.links.length,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages);var t=this.currentPage*this.itemsPerPage-this.itemsPerPage;return this.links.slice(t,t+this.itemsPerPage)}}},created:function(){var t=this.getAppData();this.links=this.sortByDate(t.items,!1),this.links.length}},y=w,P=Object(c["a"])(y,_,b,!1,null,null,null),O=P.exports;n("7e55");a["a"].use(g["a"]);var D=new g["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:O},{path:"/add",name:"add",component:function(){return Promise.resolve().then(n.bind(null,"7e55"))}}]}),x=n("5886");n("4413");a["a"].use(x["a"]),a["a"].config.productionTip=!1,Object(C["d"])(),new a["a"]({router:D,render:function(t){return t(h)}}).$mount("#app")},"64a9":function(t,e,n){},"7e55":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"add-link-wrapper mx-auto row"},[n("div",{staticClass:"col-md-12"},[n("router-link",{attrs:{to:"/",tag:"a"}},[n("i",{staticClass:"fa fa-arrow-left"}),t._v(" Return to List\n    ")]),n("h3",[t._v("Add New Link")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.addLink()}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"link-name"}},[t._v("Link Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.linkname,expression:"formData.linkname"}],staticClass:"form-control",attrs:{type:"text",id:"link-name","aria-describedby":"emailHelp",placeholder:"e.g. Alphabet",required:""},domProps:{value:t.formData.linkname},on:{input:function(e){e.target.composing||t.$set(t.formData,"linkname",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"link-url"}},[t._v("Link URL:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.linkurl,expression:"formData.linkurl"}],staticClass:"form-control",attrs:{type:"url",id:"link-url",placeholder:"e.g. http://abc.xyz",required:""},domProps:{value:t.formData.linkurl},on:{input:function(e){e.target.composing||t.$set(t.formData,"linkurl",e.target.value)}}})]),n("button",{staticClass:"btn btn-add btn-lg",attrs:{type:"submit",disabled:t.disableAdd}},[t._v("Add")])])],1)])},r=[],s=n("bd86"),i=n("ba5f"),o={data:function(){return{disableAdd:!1,formData:{},link:null}},methods:{addLink:function(){var t=this,e={name:this.formData.linkname,redirect_url:this.formData.linkurl};this.disableAdd=!0;var n=Object(i["a"])(e);setTimeout((function(){var e;(t.disableAdd=!1,n)&&(t.link=n,t.$swal.fire((e={toast:!0,type:"success",position:"top",title:t.formData.linkname+" Added",showConfirmButton:!1},Object(s["a"])(e,"type","success"),Object(s["a"])(e,"timer",1500),e)),t.formData={linkname:"",linkurl:""})}),1e3)}}},l=o,u=n("2877"),c=Object(u["a"])(l,a,r,!1,null,null,null);e["default"]=c.exports},ba5f:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return l}));n("ac6a"),n("7f7f");function a(t){t={id:Math.ceil(Math.random()*Date.now()),name:t.name,web_url:t.redirect_url,created_at:Date.now(),votes_count:0,last_voted_at:null,current_user_voted:!1};var e=l();return e.items.unshift(t),u({items:e.items},!0),t}function r(t){var e=l();return e.items.forEach((function(n,a){t.id===n.id&&e.items.splice(a,1)})),u({items:e.items},!0),!0}function s(t){var e=l(),n=null;return e.items.forEach((function(e,a){t.id===e.id&&(e.votes_count++,e.current_user_voted=!0,e.last_voted_at=new Date,n=e)})),u({items:e.items},!0),n}function i(t){var e=l(),n=null;return e.items.forEach((function(e,a){t.id===e.id&&(e.votes_count--,e.current_user_voted=!1,e.last_voted_at=new Date,n=e)})),u({items:e.items},!0),n}function o(){var t={items:[]};null===localStorage.getItem("linkfustore")&&localStorage.setItem("linkfustore",JSON.stringify(t))}function l(){return JSON.parse(localStorage.getItem("linkfustore"))}function u(t,e){var n=l();t.items&&(n.items=e?t.items:n.items.concat(t.items)),localStorage.setItem("linkfustore",JSON.stringify(n))}}});
//# sourceMappingURL=app.55c63e86.js.map